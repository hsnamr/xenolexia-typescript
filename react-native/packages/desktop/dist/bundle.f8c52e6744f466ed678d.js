"use strict";(self.webpackChunkxenolexia_desktop=self.webpackChunkxenolexia_desktop||[]).push([[788],{2788(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('{// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  ImportService: () => (/* reexport */ ImportService),\n  SUPPORTED_EXTENSIONS: () => (/* reexport */ SUPPORTED_EXTENSIONS),\n  SUPPORTED_MIME_TYPES: () => (/* reexport */ SUPPORTED_MIME_TYPES)\n});\n\n// EXTERNAL MODULE: ../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(6330);\n// EXTERNAL MODULE: ../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(5152);\n// EXTERNAL MODULE: ../../node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(414);\n// EXTERNAL MODULE: ../../node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(4586);\n// EXTERNAL MODULE: ../../node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(5799);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ../../node_modules/react-native-web/dist/exports/Platform/index.js\nvar Platform = __webpack_require__(8569);\n;// ../mobile/src/mocks/react-native-document-picker.web.ts\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,defineProperty/* default */.A)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n/**\n * Web mock for react-native-document-picker\n * Uses the HTML file input element for file selection\n */\n\nvar types = {\n  allFiles: \'*/*\',\n  images: \'image/*\',\n  plainText: \'text/plain\',\n  audio: \'audio/*\',\n  video: \'video/*\',\n  pdf: \'application/pdf\',\n  // EPUB types\n  epub: \'application/epub+zip,.epub\'\n};\nvar pick = /*#__PURE__*/function () {\n  var _ref = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee3(options) {\n    return regenerator_default().wrap(function (_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt("return", new Promise(function (resolve, reject) {\n            var _options$allowMultiSe;\n            var input = document.createElement(\'input\');\n            input.type = \'file\';\n            input.multiple = (_options$allowMultiSe = options === null || options === void 0 ? void 0 : options.allowMultiSelection) !== null && _options$allowMultiSe !== void 0 ? _options$allowMultiSe : false;\n            if (options !== null && options !== void 0 && options.type) {\n              var typeList = Array.isArray(options.type) ? options.type : [options.type];\n              // Map types to accept values\n              var acceptValues = typeList.map(function (t) {\n                // Handle our custom epub type\n                if (t === types.epub) return \'.epub,application/epub+zip\';\n                return t;\n              });\n              input.accept = acceptValues.join(\',\');\n            }\n            input.onchange = /*#__PURE__*/function () {\n              var _ref2 = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee2(e) {\n                var files, results, _t;\n                return regenerator_default().wrap(function (_context2) {\n                  while (1) switch (_context2.prev = _context2.next) {\n                    case 0:\n                      files = e.target.files;\n                      if (!(!files || files.length === 0)) {\n                        _context2.next = 1;\n                        break;\n                      }\n                      reject(new Error(\'User cancelled document picker\'));\n                      return _context2.abrupt("return");\n                    case 1:\n                      _context2.prev = 1;\n                      _context2.next = 2;\n                      return Promise.all(Array.from(files).map(/*#__PURE__*/function () {\n                        var _ref3 = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee(file) {\n                          var blobUrl;\n                          return regenerator_default().wrap(function (_context) {\n                            while (1) switch (_context.prev = _context.next) {\n                              case 0:\n                                // Create a blob URL for the file\n                                blobUrl = URL.createObjectURL(file);\n                                return _context.abrupt("return", {\n                                  uri: blobUrl,\n                                  fileCopyUri: blobUrl,\n                                  // Same as uri for web - the blob URL works with fetch\n                                  name: file.name,\n                                  type: file.type || \'application/octet-stream\',\n                                  size: file.size\n                                });\n                              case 1:\n                              case "end":\n                                return _context.stop();\n                            }\n                          }, _callee);\n                        }));\n                        return function (_x3) {\n                          return _ref3.apply(this, arguments);\n                        };\n                      }()));\n                    case 2:\n                      results = _context2.sent;\n                      resolve(results);\n                      _context2.next = 4;\n                      break;\n                    case 3:\n                      _context2.prev = 3;\n                      _t = _context2["catch"](1);\n                      reject(_t);\n                    case 4:\n                    case "end":\n                      return _context2.stop();\n                  }\n                }, _callee2, null, [[1, 3]]);\n              }));\n              return function (_x2) {\n                return _ref2.apply(this, arguments);\n              };\n            }();\n            input.oncancel = function () {\n              reject(new Error(\'User cancelled document picker\'));\n            };\n\n            // Handle click away / cancel (not all browsers support oncancel)\n            var _handleFocus = function handleFocus() {\n              // Delay to allow onchange to fire first if file was selected\n              setTimeout(function () {\n                if (!input.files || input.files.length === 0) {\n                  window.removeEventListener(\'focus\', _handleFocus);\n                  // Don\'t reject - the onchange will handle it\n                }\n              }, 300);\n            };\n            window.addEventListener(\'focus\', _handleFocus, {\n              once: true\n            });\n            input.click();\n          }));\n        case 1:\n        case "end":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function pick(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar pickSingle = /*#__PURE__*/function () {\n  var _ref4 = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee4(options) {\n    var results;\n    return regenerator_default().wrap(function (_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 1;\n          return pick(_objectSpread(_objectSpread({}, options), {}, {\n            allowMultiSelection: false\n          }));\n        case 1:\n          results = _context4.sent;\n          return _context4.abrupt("return", results[0]);\n        case 2:\n        case "end":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function pickSingle(_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar isCancel = function isCancel(err) {\n  return err instanceof Error && err.message.includes(\'User cancelled document picker\');\n};\n/* harmony default export */ const react_native_document_picker_web = ({\n  types: types,\n  pick: pick,\n  pickSingle: pickSingle,\n  isCancel: isCancel\n});\n// EXTERNAL MODULE: ./src/mocks/react-native-fs.electron.ts\nvar react_native_fs_electron = __webpack_require__(4978);\n// EXTERNAL MODULE: ../../node_modules/uuid/dist/esm-browser/v4.js + 3 modules\nvar v4 = __webpack_require__(2964);\n// EXTERNAL MODULE: ../shared/src/services/BookParser/index.ts + 12 modules\nvar BookParser = __webpack_require__(4300);\n// EXTERNAL MODULE: ../shared/src/services/FileSystemService/index.ts + 1 modules\nvar FileSystemService = __webpack_require__(9630);\n;// ../shared/src/services/ImportService/types.ts\n/**\n * Import Service Types\n */\n\n/**\n * Supported file types for import\n */\nvar SUPPORTED_MIME_TYPES = [\'application/epub+zip\',\n// EPUB\n\'application/x-mobipocket-ebook\',\n// MOBI\n\'application/x-fictionbook+xml\',\n// FB2\n\'text/plain\' // TXT\n];\nvar SUPPORTED_EXTENSIONS = [\'.epub\', \'.mobi\', \'.fb2\', \'.txt\'];\n\n/**\n * Import status states\n */\n\n/**\n * Import progress information\n */\n\n/**\n * Result of file selection\n */\n\n/**\n * Result of import operation\n */\n\n/**\n * Metadata extracted during import\n */\n\n/**\n * Import options\n */\n\n/**\n * File info after copying to app storage\n */\n;// ../shared/src/services/ImportService/ImportService.ts\n\n\n\n\nfunction _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ImportService_ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction ImportService_objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ImportService_ownKeys(Object(t), !0).forEach(function (r) { (0,defineProperty/* default */.A)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ImportService_ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n/**\n * Import Service\n *\n * Handles importing book files from device storage into the app.\n * Supports EPUB, MOBI, FB2, and TXT formats.\n */\n\n\n\n\n\n\n\n\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Base directory for storing books (used on native platforms) */\nvar BOOKS_BASE_DIR = "".concat(react_native_fs_electron["default"].DocumentDirectoryPath, "/.xenolexia/books");\n\n/** Whether to use File System Access API on web */\nvar USE_FILE_SYSTEM_API = Platform/* default */.A.OS === \'web\' && FileSystemService/* FileSystemService */.x.isSupported();\n\n/** Supported document picker types */\nvar PICKER_TYPES = [types.epub, types.plainText, types.allFiles // Fallback for formats not explicitly supported\n];\n\n// ============================================================================\n// Import Service Class\n// ============================================================================\n\nvar ImportService = /*#__PURE__*/function () {\n  function ImportService() {\n    (0,classCallCheck/* default */.A)(this, ImportService);\n  }\n  return (0,createClass/* default */.A)(ImportService, null, [{\n    key: "initialize",\n    value: (\n    /**\n     * Initialize the import service\n     * Creates necessary directories if they don\'t exist\n     */\n    function () {\n      var _initialize = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee() {\n        var exists, _t;\n        return regenerator_default().wrap(function (_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.isInitialized) {\n                _context.next = 1;\n                break;\n              }\n              return _context.abrupt("return");\n            case 1:\n              _context.prev = 1;\n              if (!USE_FILE_SYSTEM_API) {\n                _context.next = 2;\n                break;\n              }\n              _context.next = 2;\n              return FileSystemService/* FileSystemService */.x.initialize();\n            case 2:\n              _context.next = 3;\n              return react_native_fs_electron["default"].exists(BOOKS_BASE_DIR);\n            case 3:\n              exists = _context.sent;\n              if (exists) {\n                _context.next = 4;\n                break;\n              }\n              _context.next = 4;\n              return react_native_fs_electron["default"].mkdir(BOOKS_BASE_DIR);\n            case 4:\n              this.isInitialized = true;\n              _context.next = 6;\n              break;\n            case 5:\n              _context.prev = 5;\n              _t = _context["catch"](1);\n              console.error(\'Failed to initialize ImportService:\', _t);\n              // Don\'t throw - allow service to work without pre-initialization\n              this.isInitialized = true;\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this, [[1, 5]]);\n      }));\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n      return initialize;\n    }()\n    /**\n     * Check if file system access has been granted (web only)\n     */\n    )\n  }, {\n    key: "hasFileSystemAccess",\n    value: (function () {\n      var _hasFileSystemAccess = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee2() {\n        return regenerator_default().wrap(function (_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (USE_FILE_SYSTEM_API) {\n                _context2.next = 1;\n                break;\n              }\n              return _context2.abrupt("return", true);\n            case 1:\n              _context2.next = 2;\n              return FileSystemService/* FileSystemService */.x.hasDirectoryAccess();\n            case 2:\n              return _context2.abrupt("return", _context2.sent);\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function hasFileSystemAccess() {\n        return _hasFileSystemAccess.apply(this, arguments);\n      }\n      return hasFileSystemAccess;\n    }()\n    /**\n     * Request file system access from user (web only)\n     * Returns true if access was granted\n     */\n    )\n  }, {\n    key: "requestFileSystemAccess",\n    value: (function () {\n      var _requestFileSystemAccess = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee3() {\n        return regenerator_default().wrap(function (_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (USE_FILE_SYSTEM_API) {\n                _context3.next = 1;\n                break;\n              }\n              return _context3.abrupt("return", true);\n            case 1:\n              _context3.next = 2;\n              return FileSystemService/* FileSystemService */.x.requestDirectoryAccess();\n            case 2:\n              return _context3.abrupt("return", _context3.sent);\n            case 3:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      function requestFileSystemAccess() {\n        return _requestFileSystemAccess.apply(this, arguments);\n      }\n      return requestFileSystemAccess;\n    }()\n    /**\n     * Get the name of the current storage directory (for display)\n     */\n    )\n  }, {\n    key: "getStorageDirectoryName",\n    value: function getStorageDirectoryName() {\n      if (!USE_FILE_SYSTEM_API) {\n        return BOOKS_BASE_DIR;\n      }\n      return FileSystemService/* FileSystemService */.x.getDirectoryName();\n    }\n\n    /**\n     * Open document picker and let user select a book file\n     */\n  }, {\n    key: "selectFile",\n    value: (function () {\n      var _selectFile = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee4() {\n        var result, file, extension, _t2;\n        return regenerator_default().wrap(function (_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 1;\n              return react_native_document_picker_web.pick({\n                type: PICKER_TYPES,\n                copyTo: \'cachesDirectory\',\n                // Copy to cache first for processing\n                allowMultiSelection: false\n              });\n            case 1:\n              result = _context4.sent;\n              file = result[0]; // Validate file extension\n              extension = this.getFileExtension(file.name || \'\');\n              if (this.isSupportedFormat(extension)) {\n                _context4.next = 2;\n                break;\n              }\n              throw new Error("Unsupported file format: ".concat(extension, ". Supported formats: ").concat(SUPPORTED_EXTENSIONS.join(\', \')));\n            case 2:\n              return _context4.abrupt("return", {\n                uri: file.fileCopyUri || file.uri,\n                name: file.name || \'Unknown\',\n                size: file.size || 0,\n                type: file.type\n              });\n            case 3:\n              _context4.prev = 3;\n              _t2 = _context4["catch"](0);\n              if (!react_native_document_picker_web.isCancel(_t2)) {\n                _context4.next = 4;\n                break;\n              }\n              return _context4.abrupt("return", null);\n            case 4:\n              throw _t2;\n            case 5:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4, this, [[0, 3]]);\n      }));\n      function selectFile() {\n        return _selectFile.apply(this, arguments);\n      }\n      return selectFile;\n    }()\n    /**\n     * Import a book file into the app\n     */\n    )\n  }, {\n    key: "importBook",\n    value: (function () {\n      var _importBook = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee5(file) {\n        var options,\n          onProgress,\n          _options$extractCover,\n          extractCover,\n          _options$parseMetadat,\n          parseMetadata,\n          bookId,\n          copiedFile,\n          metadata,\n          parsedMetadata,\n          coverPath,\n          errorMessage,\n          _args5 = arguments,\n          _t3,\n          _t4,\n          _t5;\n        return regenerator_default().wrap(function (_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              options = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n              onProgress = options.onProgress, _options$extractCover = options.extractCover, extractCover = _options$extractCover === void 0 ? true : _options$extractCover, _options$parseMetadat = options.parseMetadata, parseMetadata = _options$parseMetadat === void 0 ? true : _options$parseMetadat;\n              _context5.prev = 1;\n              _context5.next = 2;\n              return this.initialize();\n            case 2:\n              // Generate unique book ID\n              bookId = (0,v4/* default */.A)(); // Step 1: Copy file to app storage\n              onProgress === null || onProgress === void 0 || onProgress({\n                status: \'copying\',\n                fileName: file.name,\n                progress: 10,\n                currentStep: \'Copying file to library...\'\n              });\n              _context5.next = 3;\n              return this.copyFileToStorage(file, bookId);\n            case 3:\n              copiedFile = _context5.sent;\n              // Step 2: Parse metadata\n              metadata = {\n                title: this.extractTitleFromFilename(file.name),\n                author: \'Unknown Author\',\n                format: copiedFile.format,\n                fileSize: copiedFile.fileSize\n              };\n              if (!parseMetadata) {\n                _context5.next = 7;\n                break;\n              }\n              onProgress === null || onProgress === void 0 || onProgress({\n                status: \'parsing\',\n                fileName: file.name,\n                progress: 40,\n                currentStep: \'Extracting book information...\'\n              });\n              _context5.prev = 4;\n              _context5.next = 5;\n              return this.parseBookMetadata(copiedFile.localPath, copiedFile.format);\n            case 5:\n              parsedMetadata = _context5.sent;\n              metadata = ImportService_objectSpread(ImportService_objectSpread({}, metadata), parsedMetadata);\n              _context5.next = 7;\n              break;\n            case 6:\n              _context5.prev = 6;\n              _t3 = _context5["catch"](4);\n              console.warn(\'Failed to parse metadata, using defaults:\', _t3);\n            case 7:\n              if (!(extractCover && copiedFile.format === \'epub\')) {\n                _context5.next = 11;\n                break;\n              }\n              onProgress === null || onProgress === void 0 || onProgress({\n                status: \'extracting_cover\',\n                fileName: file.name,\n                progress: 70,\n                currentStep: \'Extracting cover image...\'\n              });\n              _context5.prev = 8;\n              _context5.next = 9;\n              return this.extractCoverImage(bookId, copiedFile.localPath);\n            case 9:\n              coverPath = _context5.sent;\n              if (coverPath) {\n                metadata.coverPath = coverPath;\n              }\n              _context5.next = 11;\n              break;\n            case 10:\n              _context5.prev = 10;\n              _t4 = _context5["catch"](8);\n              console.warn(\'Failed to extract cover:\', _t4);\n            case 11:\n              // Step 4: Complete\n              onProgress === null || onProgress === void 0 || onProgress({\n                status: \'complete\',\n                fileName: file.name,\n                progress: 100,\n                currentStep: \'Import complete!\'\n              });\n              return _context5.abrupt("return", {\n                success: true,\n                bookId: bookId,\n                filePath: copiedFile.localPath,\n                metadata: metadata\n              });\n            case 12:\n              _context5.prev = 12;\n              _t5 = _context5["catch"](1);\n              errorMessage = _t5 instanceof Error ? _t5.message : \'Import failed\';\n              onProgress === null || onProgress === void 0 || onProgress({\n                status: \'error\',\n                fileName: file.name,\n                progress: 0,\n                currentStep: \'Import failed\',\n                error: errorMessage\n              });\n              return _context5.abrupt("return", {\n                success: false,\n                error: errorMessage\n              });\n            case 13:\n            case "end":\n              return _context5.stop();\n          }\n        }, _callee5, this, [[1, 12], [4, 6], [8, 10]]);\n      }));\n      function importBook(_x) {\n        return _importBook.apply(this, arguments);\n      }\n      return importBook;\n    }()\n    /**\n     * Copy selected file to app\'s book storage directory\n     */\n    )\n  }, {\n    key: "copyFileToStorage",\n    value: (function () {\n      var _copyFileToStorage = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee6(file, bookId) {\n        var format, filename;\n        return regenerator_default().wrap(function (_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              format = this.detectFormat(file.name);\n              filename = "book.".concat(format); // On web with File System Access API, save to user\'s chosen directory\n              if (!USE_FILE_SYSTEM_API) {\n                _context6.next = 2;\n                break;\n              }\n              _context6.next = 1;\n              return this.copyFileToFileSystem(file, bookId, filename, format);\n            case 1:\n              return _context6.abrupt("return", _context6.sent);\n            case 2:\n              _context6.next = 3;\n              return this.copyFileToRNFS(file, bookId, filename, format);\n            case 3:\n              return _context6.abrupt("return", _context6.sent);\n            case 4:\n            case "end":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function copyFileToStorage(_x2, _x3) {\n        return _copyFileToStorage.apply(this, arguments);\n      }\n      return copyFileToStorage;\n    }()\n    /**\n     * Copy file using File System Access API (web)\n     */\n    )\n  }, {\n    key: "copyFileToFileSystem",\n    value: (function () {\n      var _copyFileToFileSystem = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee7(file, bookId, filename, format) {\n        var response, arrayBuffer, bookDir, destPath;\n        return regenerator_default().wrap(function (_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 1;\n              return fetch(file.uri);\n            case 1:\n              response = _context7.sent;\n              if (response.ok) {\n                _context7.next = 2;\n                break;\n              }\n              throw new Error(\'Failed to read selected file\');\n            case 2:\n              _context7.next = 3;\n              return response.arrayBuffer();\n            case 3:\n              arrayBuffer = _context7.sent;\n              _context7.next = 4;\n              return FileSystemService/* FileSystemService */.x.saveBook(bookId, filename, arrayBuffer);\n            case 4:\n              // Also save to IndexedDB (RNFS) so the reader can access it\n              bookDir = "".concat(BOOKS_BASE_DIR, "/").concat(bookId);\n              destPath = "".concat(bookDir, "/").concat(filename);\n              _context7.next = 5;\n              return react_native_fs_electron["default"].mkdir(bookDir);\n            case 5:\n              _context7.next = 6;\n              return react_native_fs_electron["default"].writeFile(destPath, arrayBuffer);\n            case 6:\n              return _context7.abrupt("return", {\n                bookId: bookId,\n                originalName: file.name,\n                localPath: destPath,\n                // Use RNFS path for reading\n                format: format,\n                fileSize: arrayBuffer.byteLength\n              });\n            case 7:\n            case "end":\n              return _context7.stop();\n          }\n        }, _callee7);\n      }));\n      function copyFileToFileSystem(_x4, _x5, _x6, _x7) {\n        return _copyFileToFileSystem.apply(this, arguments);\n      }\n      return copyFileToFileSystem;\n    }()\n    /**\n     * Copy file using RNFS (native or IndexedDB fallback)\n     */\n    )\n  }, {\n    key: "copyFileToRNFS",\n    value: (function () {\n      var _copyFileToRNFS = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee8(file, bookId, filename, format) {\n        var bookDir, destPath, stat;\n        return regenerator_default().wrap(function (_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              bookDir = "".concat(BOOKS_BASE_DIR, "/").concat(bookId);\n              destPath = "".concat(bookDir, "/").concat(filename); // Create book directory\n              _context8.next = 1;\n              return react_native_fs_electron["default"].mkdir(bookDir);\n            case 1:\n              _context8.next = 2;\n              return react_native_fs_electron["default"].copyFile(file.uri, destPath);\n            case 2:\n              _context8.next = 3;\n              return react_native_fs_electron["default"].stat(destPath);\n            case 3:\n              stat = _context8.sent;\n              return _context8.abrupt("return", {\n                bookId: bookId,\n                originalName: file.name,\n                localPath: destPath,\n                format: format,\n                fileSize: parseInt(String(stat.size), 10)\n              });\n            case 4:\n            case "end":\n              return _context8.stop();\n          }\n        }, _callee8);\n      }));\n      function copyFileToRNFS(_x8, _x9, _x0, _x1) {\n        return _copyFileToRNFS.apply(this, arguments);\n      }\n      return copyFileToRNFS;\n    }()\n    /**\n     * Parse book metadata based on format\n     */\n    )\n  }, {\n    key: "parseBookMetadata",\n    value: (function () {\n      var _parseBookMetadata = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee9(filePath, format) {\n        var _t6;\n        return regenerator_default().wrap(function (_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              _t6 = format;\n              _context9.next = _t6 === \'epub\' ? 1 : _t6 === \'txt\' ? 2 : 3;\n              break;\n            case 1:\n              return _context9.abrupt("return", this.parseEPUBMetadata(filePath));\n            case 2:\n              return _context9.abrupt("return", this.parseTXTMetadata(filePath));\n            case 3:\n              return _context9.abrupt("return", {});\n            case 4:\n            case "end":\n              return _context9.stop();\n          }\n        }, _callee9, this);\n      }));\n      function parseBookMetadata(_x10, _x11) {\n        return _parseBookMetadata.apply(this, arguments);\n      }\n      return parseBookMetadata;\n    }()\n    /**\n     * Parse EPUB metadata using MetadataExtractor\n     */\n    )\n  }, {\n    key: "parseEPUBMetadata",\n    value: (function () {\n      var _parseEPUBMetadata = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee0(filePath) {\n        var extractor, extracted;\n        return regenerator_default().wrap(function (_context0) {\n          while (1) switch (_context0.prev = _context0.next) {\n            case 0:\n              extractor = new BookParser.MetadataExtractor();\n              _context0.prev = 1;\n              _context0.next = 2;\n              return extractor.extractFromFile(filePath);\n            case 2:\n              extracted = _context0.sent;\n              return _context0.abrupt("return", {\n                title: extracted.metadata.title,\n                author: extracted.metadata.author,\n                description: extracted.metadata.description,\n                publisher: extracted.metadata.publisher,\n                publishDate: extracted.metadata.publishDate,\n                isbn: extracted.metadata.isbn,\n                language: extracted.language,\n                totalChapters: extracted.chapterCount,\n                subjects: extracted.metadata.subjects\n              });\n            case 3:\n              _context0.prev = 3;\n              extractor.dispose();\n              return _context0.finish(3);\n            case 4:\n            case "end":\n              return _context0.stop();\n          }\n        }, _callee0, null, [[1,, 3, 4]]);\n      }));\n      function parseEPUBMetadata(_x12) {\n        return _parseEPUBMetadata.apply(this, arguments);\n      }\n      return parseEPUBMetadata;\n    }()\n    /**\n     * Parse TXT metadata (limited - just file info)\n     */\n    )\n  }, {\n    key: "parseTXTMetadata",\n    value: (function () {\n      var _parseTXTMetadata = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee1(filePath) {\n        var _content$split$, stat, content, firstLine, _t7;\n        return regenerator_default().wrap(function (_context1) {\n          while (1) switch (_context1.prev = _context1.next) {\n            case 0:\n              _context1.prev = 0;\n              _context1.next = 1;\n              return react_native_fs_electron["default"].stat(filePath);\n            case 1:\n              stat = _context1.sent;\n              _context1.next = 2;\n              return react_native_fs_electron["default"].read(filePath, 500, 0, \'utf8\');\n            case 2:\n              content = _context1.sent;\n              firstLine = (_content$split$ = content.split(\'\\n\')[0]) === null || _content$split$ === void 0 ? void 0 : _content$split$.trim();\n              return _context1.abrupt("return", {\n                title: (firstLine === null || firstLine === void 0 ? void 0 : firstLine.length) > 0 && firstLine.length < 100 ? firstLine : undefined,\n                estimatedPages: Math.ceil(parseInt(String(stat.size), 10) / 2000) // Rough estimate\n              });\n            case 3:\n              _context1.prev = 3;\n              _t7 = _context1["catch"](0);\n              return _context1.abrupt("return", {});\n            case 4:\n            case "end":\n              return _context1.stop();\n          }\n        }, _callee1, null, [[0, 3]]);\n      }));\n      function parseTXTMetadata(_x13) {\n        return _parseTXTMetadata.apply(this, arguments);\n      }\n      return parseTXTMetadata;\n    }()\n    /**\n     * Extract cover image from EPUB\n     */\n    )\n  }, {\n    key: "extractCoverImage",\n    value: (function () {\n      var _extractCoverImage = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee10(bookId, filePath) {\n        var extractor, bookDir, _t8;\n        return regenerator_default().wrap(function (_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              extractor = new BookParser.MetadataExtractor();\n              _context10.prev = 1;\n              _context10.next = 2;\n              return extractor.extractFromFile(filePath);\n            case 2:\n              bookDir = "".concat(BOOKS_BASE_DIR, "/").concat(bookId);\n              _context10.next = 3;\n              return extractor.extractCover(bookDir);\n            case 3:\n              return _context10.abrupt("return", _context10.sent);\n            case 4:\n              _context10.prev = 4;\n              _t8 = _context10["catch"](1);\n              console.warn(\'Failed to extract cover image:\', _t8);\n              return _context10.abrupt("return", null);\n            case 5:\n              _context10.prev = 5;\n              extractor.dispose();\n              return _context10.finish(5);\n            case 6:\n            case "end":\n              return _context10.stop();\n          }\n        }, _callee10, null, [[1, 4, 5, 6]]);\n      }));\n      function extractCoverImage(_x14, _x15) {\n        return _extractCoverImage.apply(this, arguments);\n      }\n      return extractCoverImage;\n    }()\n    /**\n     * Delete a book and its associated files\n     */\n    )\n  }, {\n    key: "deleteBook",\n    value: (function () {\n      var _deleteBook = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee11(bookId) {\n        var deleted, bookDir, exists, _t9;\n        return regenerator_default().wrap(function (_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.prev = 0;\n              if (!USE_FILE_SYSTEM_API) {\n                _context11.next = 2;\n                break;\n              }\n              _context11.next = 1;\n              return FileSystemService/* FileSystemService */.x.deleteBook(bookId);\n            case 1:\n              deleted = _context11.sent;\n              if (!deleted) {\n                _context11.next = 2;\n                break;\n              }\n              return _context11.abrupt("return", true);\n            case 2:\n              // Fallback to RNFS\n              bookDir = "".concat(BOOKS_BASE_DIR, "/").concat(bookId);\n              _context11.next = 3;\n              return react_native_fs_electron["default"].exists(bookDir);\n            case 3:\n              exists = _context11.sent;\n              if (!exists) {\n                _context11.next = 4;\n                break;\n              }\n              _context11.next = 4;\n              return react_native_fs_electron["default"].unlink(bookDir);\n            case 4:\n              return _context11.abrupt("return", true);\n            case 5:\n              _context11.prev = 5;\n              _t9 = _context11["catch"](0);\n              console.error(\'Failed to delete book:\', _t9);\n              return _context11.abrupt("return", false);\n            case 6:\n            case "end":\n              return _context11.stop();\n          }\n        }, _callee11, null, [[0, 5]]);\n      }));\n      function deleteBook(_x16) {\n        return _deleteBook.apply(this, arguments);\n      }\n      return deleteBook;\n    }()\n    /**\n     * Get the storage path for a book\n     */\n    )\n  }, {\n    key: "getBookPath",\n    value: function getBookPath(bookId) {\n      return "".concat(BOOKS_BASE_DIR, "/").concat(bookId);\n    }\n\n    /**\n     * Get total storage used by books\n     */\n  }, {\n    key: "getStorageUsed",\n    value: (function () {\n      var _getStorageUsed = (0,asyncToGenerator/* default */.A)(/*#__PURE__*/regenerator_default().mark(function _callee12() {\n        var exists, items, totalSize, _iterator, _step, item, bookFiles, _iterator2, _step2, file, _t0, _t1;\n        return regenerator_default().wrap(function (_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.prev = 0;\n              _context12.next = 1;\n              return react_native_fs_electron["default"].exists(BOOKS_BASE_DIR);\n            case 1:\n              exists = _context12.sent;\n              if (exists) {\n                _context12.next = 2;\n                break;\n              }\n              return _context12.abrupt("return", 0);\n            case 2:\n              _context12.next = 3;\n              return react_native_fs_electron["default"].readDir(BOOKS_BASE_DIR);\n            case 3:\n              items = _context12.sent;\n              totalSize = 0;\n              _iterator = _createForOfIteratorHelper(items);\n              _context12.prev = 4;\n              _iterator.s();\n            case 5:\n              if ((_step = _iterator.n()).done) {\n                _context12.next = 8;\n                break;\n              }\n              item = _step.value;\n              if (!item.isDirectory()) {\n                _context12.next = 7;\n                break;\n              }\n              _context12.next = 6;\n              return react_native_fs_electron["default"].readDir(item.path);\n            case 6:\n              bookFiles = _context12.sent;\n              _iterator2 = _createForOfIteratorHelper(bookFiles);\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  file = _step2.value;\n                  if (file.isFile()) {\n                    totalSize += parseInt(String(file.size), 10);\n                  }\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n            case 7:\n              _context12.next = 5;\n              break;\n            case 8:\n              _context12.next = 10;\n              break;\n            case 9:\n              _context12.prev = 9;\n              _t0 = _context12["catch"](4);\n              _iterator.e(_t0);\n            case 10:\n              _context12.prev = 10;\n              _iterator.f();\n              return _context12.finish(10);\n            case 11:\n              return _context12.abrupt("return", totalSize);\n            case 12:\n              _context12.prev = 12;\n              _t1 = _context12["catch"](0);\n              console.error(\'Failed to calculate storage:\', _t1);\n              return _context12.abrupt("return", 0);\n            case 13:\n            case "end":\n              return _context12.stop();\n          }\n        }, _callee12, null, [[0, 12], [4, 9, 10, 11]]);\n      }));\n      function getStorageUsed() {\n        return _getStorageUsed.apply(this, arguments);\n      }\n      return getStorageUsed;\n    }() // ============================================================================\n    // Utility Methods\n    // ============================================================================\n    /**\n     * Get file extension from filename\n     */\n    )\n  }, {\n    key: "getFileExtension",\n    value: function getFileExtension(filename) {\n      var match = filename.match(/\\.([^.]+)$/);\n      return match ? ".".concat(match[1].toLowerCase()) : \'\';\n    }\n\n    /**\n     * Check if file format is supported\n     */\n  }, {\n    key: "isSupportedFormat",\n    value: function isSupportedFormat(extension) {\n      return SUPPORTED_EXTENSIONS.includes(extension);\n    }\n\n    /**\n     * Detect book format from filename\n     */\n  }, {\n    key: "detectFormat",\n    value: function detectFormat(filename) {\n      var ext = this.getFileExtension(filename).toLowerCase();\n      switch (ext) {\n        case \'.epub\':\n          return \'epub\';\n        case \'.mobi\':\n        case \'.azw\':\n        case \'.azw3\':\n          return \'mobi\';\n        case \'.fb2\':\n          return \'fb2\';\n        case \'.txt\':\n          return \'txt\';\n        default:\n          return \'epub\';\n        // Default fallback\n      }\n    }\n\n    /**\n     * Extract a clean title from filename\n     */\n  }, {\n    key: "extractTitleFromFilename",\n    value: function extractTitleFromFilename(filename) {\n      // Remove extension\n      var title = filename.replace(/\\.[^.]+$/, \'\');\n\n      // Replace common separators with spaces\n      title = title.replace(/[-_]/g, \' \');\n\n      // Remove leading/trailing whitespace\n      title = title.trim();\n\n      // Capitalize first letter of each word\n      title = title.replace(/\\b\\w/g, function (char) {\n        return char.toUpperCase();\n      });\n      return title || \'Untitled Book\';\n    }\n\n    /**\n     * Format file size for display\n     */\n  }, {\n    key: "formatFileSize",\n    value: function formatFileSize(bytes) {\n      if (bytes === 0) return \'0 B\';\n      var k = 1024;\n      var sizes = [\'B\', \'KB\', \'MB\', \'GB\'];\n      var i = Math.floor(Math.log(bytes) / Math.log(k));\n      return "".concat(parseFloat((bytes / Math.pow(k, i)).toFixed(1)), " ").concat(sizes[i]);\n    }\n  }]);\n}();\n(0,defineProperty/* default */.A)(ImportService, "isInitialized", false);\n;// ../shared/src/services/ImportService/index.ts\n/**\n * Import Service - File import and management\n */\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQztNQUNyQyxJQUFNQyxDQUFDLEdBQUduRCxJQUFJLENBQUNvRCxLQUFLLENBQUNwRCxJQUFJLENBQUNxRCxHQUFHLENBQUNMLEtBQUssQ0FBQyxHQUFHaEQsSUFBSSxDQUFDcUQsR0FBRyxDQUFDSixDQUFDLENBQUMsQ0FBQztNQUNuRCxVQUFBN0wsTUFBQSxDQUFVa00sVUFBVSxDQUFDLENBQUNOLEtBQUssR0FBR2hELElBQUksQ0FBQ3VELEdBQUcsQ0FBQ04sQ0FBQyxFQUFFRSxDQUFDLENBQUMsRUFBRUssT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQUFwTSxNQUFBLENBQUk4TCxLQUFLLENBQUNDLENBQUMsQ0FBQztJQUN2RTtFQUFDO0FBQUE7QUFDRk0saUNBQUEsQ0F0ZlkvTCxhQUFhLG1CQUNPLEtBQUssRTs7QUMvQ3RDO0FBQ0E7QUFDQTs7QUFFOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly94ZW5vbGV4aWEtZGVza3RvcC8uLi9tb2JpbGUvc3JjL21vY2tzL3JlYWN0LW5hdGl2ZS1kb2N1bWVudC1waWNrZXIud2ViLnRzPzVhOTYiLCJ3ZWJwYWNrOi8veGVub2xleGlhLWRlc2t0b3AvLi4vc2hhcmVkL3NyYy9zZXJ2aWNlcy9JbXBvcnRTZXJ2aWNlL3R5cGVzLnRzPzU1NTAiLCJ3ZWJwYWNrOi8veGVub2xleGlhLWRlc2t0b3AvLi4vc2hhcmVkL3NyYy9zZXJ2aWNlcy9JbXBvcnRTZXJ2aWNlL0ltcG9ydFNlcnZpY2UudHM/MmUxYyIsIndlYnBhY2s6Ly94ZW5vbGV4aWEtZGVza3RvcC8uLi9zaGFyZWQvc3JjL3NlcnZpY2VzL0ltcG9ydFNlcnZpY2UvaW5kZXgudHM/MzBhNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlYiBtb2NrIGZvciByZWFjdC1uYXRpdmUtZG9jdW1lbnQtcGlja2VyXG4gKiBVc2VzIHRoZSBIVE1MIGZpbGUgaW5wdXQgZWxlbWVudCBmb3IgZmlsZSBzZWxlY3Rpb25cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIERvY3VtZW50UGlja2VyUmVzcG9uc2Uge1xuICB1cmk6IHN0cmluZztcbiAgZmlsZUNvcHlVcmk/OiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBzaXplOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCB0eXBlcyA9IHtcbiAgYWxsRmlsZXM6ICcqLyonLFxuICBpbWFnZXM6ICdpbWFnZS8qJyxcbiAgcGxhaW5UZXh0OiAndGV4dC9wbGFpbicsXG4gIGF1ZGlvOiAnYXVkaW8vKicsXG4gIHZpZGVvOiAndmlkZW8vKicsXG4gIHBkZjogJ2FwcGxpY2F0aW9uL3BkZicsXG4gIC8vIEVQVUIgdHlwZXNcbiAgZXB1YjogJ2FwcGxpY2F0aW9uL2VwdWIremlwLC5lcHViJyxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGlja09wdGlvbnMge1xuICB0eXBlPzogc3RyaW5nIHwgc3RyaW5nW107XG4gIGFsbG93TXVsdGlTZWxlY3Rpb24/OiBib29sZWFuO1xuICBjb3B5VG8/OiAnY2FjaGVzRGlyZWN0b3J5JyB8ICdkb2N1bWVudERpcmVjdG9yeSc7XG59XG5cbmV4cG9ydCBjb25zdCBwaWNrID0gYXN5bmMgKG9wdGlvbnM/OiBQaWNrT3B0aW9ucyk6IFByb21pc2U8RG9jdW1lbnRQaWNrZXJSZXNwb25zZVtdPiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgaW5wdXQubXVsdGlwbGUgPSBvcHRpb25zPy5hbGxvd011bHRpU2VsZWN0aW9uID8/IGZhbHNlO1xuXG4gICAgaWYgKG9wdGlvbnM/LnR5cGUpIHtcbiAgICAgIGNvbnN0IHR5cGVMaXN0ID0gQXJyYXkuaXNBcnJheShvcHRpb25zLnR5cGUpID8gb3B0aW9ucy50eXBlIDogW29wdGlvbnMudHlwZV07XG4gICAgICAvLyBNYXAgdHlwZXMgdG8gYWNjZXB0IHZhbHVlc1xuICAgICAgY29uc3QgYWNjZXB0VmFsdWVzID0gdHlwZUxpc3QubWFwKHQgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgb3VyIGN1c3RvbSBlcHViIHR5cGVcbiAgICAgICAgaWYgKHQgPT09IHR5cGVzLmVwdWIpIHJldHVybiAnLmVwdWIsYXBwbGljYXRpb24vZXB1Yit6aXAnO1xuICAgICAgICByZXR1cm4gdDtcbiAgICAgIH0pO1xuICAgICAgaW5wdXQuYWNjZXB0ID0gYWNjZXB0VmFsdWVzLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICBpbnB1dC5vbmNoYW5nZSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5maWxlcztcbiAgICAgIGlmICghZmlsZXMgfHwgZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1VzZXIgY2FuY2VsbGVkIGRvY3VtZW50IHBpY2tlcicpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBEb2N1bWVudFBpY2tlclJlc3BvbnNlW10gPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBBcnJheS5mcm9tKGZpbGVzKS5tYXAoYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGJsb2IgVVJMIGZvciB0aGUgZmlsZVxuICAgICAgICAgICAgY29uc3QgYmxvYlVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVyaTogYmxvYlVybCxcbiAgICAgICAgICAgICAgZmlsZUNvcHlVcmk6IGJsb2JVcmwsIC8vIFNhbWUgYXMgdXJpIGZvciB3ZWIgLSB0aGUgYmxvYiBVUkwgd29ya3Mgd2l0aCBmZXRjaFxuICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgIHR5cGU6IGZpbGUudHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgICAgICAgc2l6ZTogZmlsZS5zaXplLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpbnB1dC5vbmNhbmNlbCA9ICgpID0+IHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1VzZXIgY2FuY2VsbGVkIGRvY3VtZW50IHBpY2tlcicpKTtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGNsaWNrIGF3YXkgLyBjYW5jZWwgKG5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCBvbmNhbmNlbClcbiAgICBjb25zdCBoYW5kbGVGb2N1cyA9ICgpID0+IHtcbiAgICAgIC8vIERlbGF5IHRvIGFsbG93IG9uY2hhbmdlIHRvIGZpcmUgZmlyc3QgaWYgZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIWlucHV0LmZpbGVzIHx8IGlucHV0LmZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIGhhbmRsZUZvY3VzKTtcbiAgICAgICAgICAvLyBEb24ndCByZWplY3QgLSB0aGUgb25jaGFuZ2Ugd2lsbCBoYW5kbGUgaXRcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGhhbmRsZUZvY3VzLCB7b25jZTogdHJ1ZX0pO1xuXG4gICAgaW5wdXQuY2xpY2soKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcGlja1NpbmdsZSA9IGFzeW5jIChvcHRpb25zPzogUGlja09wdGlvbnMpOiBQcm9taXNlPERvY3VtZW50UGlja2VyUmVzcG9uc2U+ID0+IHtcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBpY2soey4uLm9wdGlvbnMsIGFsbG93TXVsdGlTZWxlY3Rpb246IGZhbHNlfSk7XG4gIHJldHVybiByZXN1bHRzWzBdO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ2FuY2VsID0gKGVycjogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdVc2VyIGNhbmNlbGxlZCBkb2N1bWVudCBwaWNrZXInKVxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICB0eXBlcyxcbiAgcGljayxcbiAgcGlja1NpbmdsZSxcbiAgaXNDYW5jZWwsXG59O1xuIiwiLyoqXG4gKiBJbXBvcnQgU2VydmljZSBUeXBlc1xuICovXG5cbmltcG9ydCB0eXBlIHtCb29rRm9ybWF0fSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogU3VwcG9ydGVkIGZpbGUgdHlwZXMgZm9yIGltcG9ydFxuICovXG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX01JTUVfVFlQRVMgPSBbXG4gICdhcHBsaWNhdGlvbi9lcHViK3ppcCcsIC8vIEVQVUJcbiAgJ2FwcGxpY2F0aW9uL3gtbW9iaXBvY2tldC1lYm9vaycsIC8vIE1PQklcbiAgJ2FwcGxpY2F0aW9uL3gtZmljdGlvbmJvb2sreG1sJywgLy8gRkIyXG4gICd0ZXh0L3BsYWluJywgLy8gVFhUXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX0VYVEVOU0lPTlMgPSBbJy5lcHViJywgJy5tb2JpJywgJy5mYjInLCAnLnR4dCddIGFzIGNvbnN0O1xuXG4vKipcbiAqIEltcG9ydCBzdGF0dXMgc3RhdGVzXG4gKi9cbmV4cG9ydCB0eXBlIEltcG9ydFN0YXR1cyA9XG4gIHwgJ2lkbGUnXG4gIHwgJ3NlbGVjdGluZydcbiAgfCAnY29weWluZydcbiAgfCAncGFyc2luZydcbiAgfCAnZXh0cmFjdGluZ19jb3ZlcidcbiAgfCAnc2F2aW5nJ1xuICB8ICdjb21wbGV0ZSdcbiAgfCAnZXJyb3InO1xuXG4vKipcbiAqIEltcG9ydCBwcm9ncmVzcyBpbmZvcm1hdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEltcG9ydFByb2dyZXNzIHtcbiAgc3RhdHVzOiBJbXBvcnRTdGF0dXM7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG4gIHByb2dyZXNzOiBudW1iZXI7IC8vIDAtMTAwXG4gIGN1cnJlbnRTdGVwOiBzdHJpbmc7XG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlc3VsdCBvZiBmaWxlIHNlbGVjdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGVkRmlsZSB7XG4gIHVyaTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHNpemU6IG51bWJlcjtcbiAgdHlwZTogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBSZXN1bHQgb2YgaW1wb3J0IG9wZXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEltcG9ydFJlc3VsdCB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGJvb2tJZD86IHN0cmluZztcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIGZpbGVQYXRoPzogc3RyaW5nO1xuICBtZXRhZGF0YT86IEltcG9ydGVkQm9va01ldGFkYXRhO1xufVxuXG4vKipcbiAqIE1ldGFkYXRhIGV4dHJhY3RlZCBkdXJpbmcgaW1wb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1wb3J0ZWRCb29rTWV0YWRhdGEge1xuICB0aXRsZTogc3RyaW5nO1xuICBhdXRob3I/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgcHVibGlzaGVyPzogc3RyaW5nO1xuICBwdWJsaXNoRGF0ZT86IHN0cmluZztcbiAgaXNibj86IHN0cmluZztcbiAgY292ZXJQYXRoPzogc3RyaW5nO1xuICBmb3JtYXQ6IEJvb2tGb3JtYXQ7XG4gIGZpbGVTaXplOiBudW1iZXI7XG4gIHRvdGFsQ2hhcHRlcnM/OiBudW1iZXI7XG4gIGVzdGltYXRlZFBhZ2VzPzogbnVtYmVyO1xuICBzdWJqZWN0cz86IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIEltcG9ydCBvcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW1wb3J0T3B0aW9ucyB7XG4gIC8qKiBFeHRyYWN0IGNvdmVyIGltYWdlICovXG4gIGV4dHJhY3RDb3Zlcj86IGJvb2xlYW47XG4gIC8qKiBQYXJzZSBmdWxsIG1ldGFkYXRhICovXG4gIHBhcnNlTWV0YWRhdGE/OiBib29sZWFuO1xuICAvKiogUHJvZ3Jlc3MgY2FsbGJhY2sgKi9cbiAgb25Qcm9ncmVzcz86IChwcm9ncmVzczogSW1wb3J0UHJvZ3Jlc3MpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogRmlsZSBpbmZvIGFmdGVyIGNvcHlpbmcgdG8gYXBwIHN0b3JhZ2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb3BpZWRGaWxlSW5mbyB7XG4gIGJvb2tJZDogc3RyaW5nO1xuICBvcmlnaW5hbE5hbWU6IHN0cmluZztcbiAgbG9jYWxQYXRoOiBzdHJpbmc7XG4gIGZvcm1hdDogQm9va0Zvcm1hdDtcbiAgZmlsZVNpemU6IG51bWJlcjtcbn1cbiIsIi8qKlxuICogSW1wb3J0IFNlcnZpY2VcbiAqXG4gKiBIYW5kbGVzIGltcG9ydGluZyBib29rIGZpbGVzIGZyb20gZGV2aWNlIHN0b3JhZ2UgaW50byB0aGUgYXBwLlxuICogU3VwcG9ydHMgRVBVQiwgTU9CSSwgRkIyLCBhbmQgVFhUIGZvcm1hdHMuXG4gKi9cblxuaW1wb3J0IHtQbGF0Zm9ybX0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBEb2N1bWVudFBpY2tlciwge3R5cGVzfSBmcm9tICdyZWFjdC1uYXRpdmUtZG9jdW1lbnQtcGlja2VyJztcbmltcG9ydCBSTkZTIGZyb20gJ3JlYWN0LW5hdGl2ZS1mcyc7XG5pbXBvcnQge3Y0IGFzIHV1aWR2NH0gZnJvbSAndXVpZCc7XG5cbmltcG9ydCB0eXBlIHtCb29rRm9ybWF0fSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge01ldGFkYXRhRXh0cmFjdG9yfSBmcm9tICcuLi9Cb29rUGFyc2VyJztcbmltcG9ydCB7RmlsZVN5c3RlbVNlcnZpY2V9IGZyb20gJy4uL0ZpbGVTeXN0ZW1TZXJ2aWNlJztcbmltcG9ydCB0eXBlIHtcbiAgSW1wb3J0UHJvZ3Jlc3MsXG4gIEltcG9ydFJlc3VsdCxcbiAgSW1wb3J0T3B0aW9ucyxcbiAgU2VsZWN0ZWRGaWxlLFxuICBDb3BpZWRGaWxlSW5mbyxcbiAgSW1wb3J0ZWRCb29rTWV0YWRhdGEsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtTVVBQT1JURURfRVhURU5TSU9OU30gZnJvbSAnLi90eXBlcyc7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKiogQmFzZSBkaXJlY3RvcnkgZm9yIHN0b3JpbmcgYm9va3MgKHVzZWQgb24gbmF0aXZlIHBsYXRmb3JtcykgKi9cbmNvbnN0IEJPT0tTX0JBU0VfRElSID0gYCR7Uk5GUy5Eb2N1bWVudERpcmVjdG9yeVBhdGh9Ly54ZW5vbGV4aWEvYm9va3NgO1xuXG4vKiogV2hldGhlciB0byB1c2UgRmlsZSBTeXN0ZW0gQWNjZXNzIEFQSSBvbiB3ZWIgKi9cbmNvbnN0IFVTRV9GSUxFX1NZU1RFTV9BUEkgPSBQbGF0Zm9ybS5PUyA9PT0gJ3dlYicgJiYgRmlsZVN5c3RlbVNlcnZpY2UuaXNTdXBwb3J0ZWQoKTtcblxuLyoqIFN1cHBvcnRlZCBkb2N1bWVudCBwaWNrZXIgdHlwZXMgKi9cbmNvbnN0IFBJQ0tFUl9UWVBFUyA9IFtcbiAgdHlwZXMuZXB1YixcbiAgdHlwZXMucGxhaW5UZXh0LFxuICB0eXBlcy5hbGxGaWxlcywgLy8gRmFsbGJhY2sgZm9yIGZvcm1hdHMgbm90IGV4cGxpY2l0bHkgc3VwcG9ydGVkXG5dO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBJbXBvcnQgU2VydmljZSBDbGFzc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY2xhc3MgSW1wb3J0U2VydmljZSB7XG4gIHByaXZhdGUgc3RhdGljIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgaW1wb3J0IHNlcnZpY2VcbiAgICogQ3JlYXRlcyBuZWNlc3NhcnkgZGlyZWN0b3JpZXMgaWYgdGhleSBkb24ndCBleGlzdFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIE9uIHdlYiB3aXRoIEZpbGUgU3lzdGVtIEFjY2VzcyBBUEksIGluaXRpYWxpemUgdGhlIHNlcnZpY2VcbiAgICAgIGlmIChVU0VfRklMRV9TWVNURU1fQVBJKSB7XG4gICAgICAgIGF3YWl0IEZpbGVTeXN0ZW1TZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWxzbyBlbnN1cmUgUk5GUyBkaXJlY3RvcnkgZXhpc3RzIChmb3IgZmFsbGJhY2svbmF0aXZlKVxuICAgICAgY29uc3QgZXhpc3RzID0gYXdhaXQgUk5GUy5leGlzdHMoQk9PS1NfQkFTRV9ESVIpO1xuICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgYXdhaXQgUk5GUy5ta2RpcihCT09LU19CQVNFX0RJUik7XG4gICAgICB9XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBJbXBvcnRTZXJ2aWNlOicsIGVycm9yKTtcbiAgICAgIC8vIERvbid0IHRocm93IC0gYWxsb3cgc2VydmljZSB0byB3b3JrIHdpdGhvdXQgcHJlLWluaXRpYWxpemF0aW9uXG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBmaWxlIHN5c3RlbSBhY2Nlc3MgaGFzIGJlZW4gZ3JhbnRlZCAod2ViIG9ubHkpXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgaGFzRmlsZVN5c3RlbUFjY2VzcygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoIVVTRV9GSUxFX1NZU1RFTV9BUEkpIHtcbiAgICAgIHJldHVybiB0cnVlOyAvLyBOYXRpdmUgYWx3YXlzIGhhcyBhY2Nlc3NcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IEZpbGVTeXN0ZW1TZXJ2aWNlLmhhc0RpcmVjdG9yeUFjY2VzcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgZmlsZSBzeXN0ZW0gYWNjZXNzIGZyb20gdXNlciAod2ViIG9ubHkpXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBhY2Nlc3Mgd2FzIGdyYW50ZWRcbiAgICovXG4gIHN0YXRpYyBhc3luYyByZXF1ZXN0RmlsZVN5c3RlbUFjY2VzcygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoIVVTRV9GSUxFX1NZU1RFTV9BUEkpIHtcbiAgICAgIHJldHVybiB0cnVlOyAvLyBOYXRpdmUgYWx3YXlzIGhhcyBhY2Nlc3NcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IEZpbGVTeXN0ZW1TZXJ2aWNlLnJlcXVlc3REaXJlY3RvcnlBY2Nlc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5hbWUgb2YgdGhlIGN1cnJlbnQgc3RvcmFnZSBkaXJlY3RvcnkgKGZvciBkaXNwbGF5KVxuICAgKi9cbiAgc3RhdGljIGdldFN0b3JhZ2VEaXJlY3RvcnlOYW1lKCk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICghVVNFX0ZJTEVfU1lTVEVNX0FQSSkge1xuICAgICAgcmV0dXJuIEJPT0tTX0JBU0VfRElSO1xuICAgIH1cbiAgICByZXR1cm4gRmlsZVN5c3RlbVNlcnZpY2UuZ2V0RGlyZWN0b3J5TmFtZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gZG9jdW1lbnQgcGlja2VyIGFuZCBsZXQgdXNlciBzZWxlY3QgYSBib29rIGZpbGVcbiAgICovXG4gIHN0YXRpYyBhc3luYyBzZWxlY3RGaWxlKCk6IFByb21pc2U8U2VsZWN0ZWRGaWxlIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBEb2N1bWVudFBpY2tlci5waWNrKHtcbiAgICAgICAgdHlwZTogUElDS0VSX1RZUEVTLFxuICAgICAgICBjb3B5VG86ICdjYWNoZXNEaXJlY3RvcnknLCAvLyBDb3B5IHRvIGNhY2hlIGZpcnN0IGZvciBwcm9jZXNzaW5nXG4gICAgICAgIGFsbG93TXVsdGlTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGZpbGUgPSByZXN1bHRbMF07XG5cbiAgICAgIC8vIFZhbGlkYXRlIGZpbGUgZXh0ZW5zaW9uXG4gICAgICBjb25zdCBleHRlbnNpb24gPSB0aGlzLmdldEZpbGVFeHRlbnNpb24oZmlsZS5uYW1lIHx8ICcnKTtcbiAgICAgIGlmICghdGhpcy5pc1N1cHBvcnRlZEZvcm1hdChleHRlbnNpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgVW5zdXBwb3J0ZWQgZmlsZSBmb3JtYXQ6ICR7ZXh0ZW5zaW9ufS4gU3VwcG9ydGVkIGZvcm1hdHM6ICR7U1VQUE9SVEVEX0VYVEVOU0lPTlMuam9pbignLCAnKX1gLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cmk6IGZpbGUuZmlsZUNvcHlVcmkgfHwgZmlsZS51cmksXG4gICAgICAgIG5hbWU6IGZpbGUubmFtZSB8fCAnVW5rbm93bicsXG4gICAgICAgIHNpemU6IGZpbGUuc2l6ZSB8fCAwLFxuICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoRG9jdW1lbnRQaWNrZXIuaXNDYW5jZWwoZXJyb3IpKSB7XG4gICAgICAgIC8vIFVzZXIgY2FuY2VsbGVkIC0gbm90IGFuIGVycm9yXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEltcG9ydCBhIGJvb2sgZmlsZSBpbnRvIHRoZSBhcHBcbiAgICovXG4gIHN0YXRpYyBhc3luYyBpbXBvcnRCb29rKFxuICAgIGZpbGU6IFNlbGVjdGVkRmlsZSxcbiAgICBvcHRpb25zOiBJbXBvcnRPcHRpb25zID0ge30sXG4gICk6IFByb21pc2U8SW1wb3J0UmVzdWx0PiB7XG4gICAgY29uc3Qge29uUHJvZ3Jlc3MsIGV4dHJhY3RDb3ZlciA9IHRydWUsIHBhcnNlTWV0YWRhdGEgPSB0cnVlfSA9IG9wdGlvbnM7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XG5cbiAgICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBib29rIElEXG4gICAgICBjb25zdCBib29rSWQgPSB1dWlkdjQoKTtcblxuICAgICAgLy8gU3RlcCAxOiBDb3B5IGZpbGUgdG8gYXBwIHN0b3JhZ2VcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7XG4gICAgICAgIHN0YXR1czogJ2NvcHlpbmcnLFxuICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICBwcm9ncmVzczogMTAsXG4gICAgICAgIGN1cnJlbnRTdGVwOiAnQ29weWluZyBmaWxlIHRvIGxpYnJhcnkuLi4nLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvcGllZEZpbGUgPSBhd2FpdCB0aGlzLmNvcHlGaWxlVG9TdG9yYWdlKGZpbGUsIGJvb2tJZCk7XG5cbiAgICAgIC8vIFN0ZXAgMjogUGFyc2UgbWV0YWRhdGFcbiAgICAgIGxldCBtZXRhZGF0YTogSW1wb3J0ZWRCb29rTWV0YWRhdGEgPSB7XG4gICAgICAgIHRpdGxlOiB0aGlzLmV4dHJhY3RUaXRsZUZyb21GaWxlbmFtZShmaWxlLm5hbWUpLFxuICAgICAgICBhdXRob3I6ICdVbmtub3duIEF1dGhvcicsXG4gICAgICAgIGZvcm1hdDogY29waWVkRmlsZS5mb3JtYXQsXG4gICAgICAgIGZpbGVTaXplOiBjb3BpZWRGaWxlLmZpbGVTaXplLFxuICAgICAgfTtcblxuICAgICAgaWYgKHBhcnNlTWV0YWRhdGEpIHtcbiAgICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgICBzdGF0dXM6ICdwYXJzaW5nJyxcbiAgICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgIHByb2dyZXNzOiA0MCxcbiAgICAgICAgICBjdXJyZW50U3RlcDogJ0V4dHJhY3RpbmcgYm9vayBpbmZvcm1hdGlvbi4uLicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkTWV0YWRhdGEgPSBhd2FpdCB0aGlzLnBhcnNlQm9va01ldGFkYXRhKFxuICAgICAgICAgICAgY29waWVkRmlsZS5sb2NhbFBhdGgsXG4gICAgICAgICAgICBjb3BpZWRGaWxlLmZvcm1hdCxcbiAgICAgICAgICApO1xuICAgICAgICAgIG1ldGFkYXRhID0gey4uLm1ldGFkYXRhLCAuLi5wYXJzZWRNZXRhZGF0YX07XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSBtZXRhZGF0YSwgdXNpbmcgZGVmYXVsdHM6JywgcGFyc2VFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU3RlcCAzOiBFeHRyYWN0IGNvdmVyIGltYWdlXG4gICAgICBpZiAoZXh0cmFjdENvdmVyICYmIGNvcGllZEZpbGUuZm9ybWF0ID09PSAnZXB1YicpIHtcbiAgICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgICBzdGF0dXM6ICdleHRyYWN0aW5nX2NvdmVyJyxcbiAgICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgIHByb2dyZXNzOiA3MCxcbiAgICAgICAgICBjdXJyZW50U3RlcDogJ0V4dHJhY3RpbmcgY292ZXIgaW1hZ2UuLi4nLFxuICAgICAgICB9KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNvdmVyUGF0aCA9IGF3YWl0IHRoaXMuZXh0cmFjdENvdmVySW1hZ2UoYm9va0lkLCBjb3BpZWRGaWxlLmxvY2FsUGF0aCk7XG4gICAgICAgICAgaWYgKGNvdmVyUGF0aCkge1xuICAgICAgICAgICAgbWV0YWRhdGEuY292ZXJQYXRoID0gY292ZXJQYXRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoY292ZXJFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGV4dHJhY3QgY292ZXI6JywgY292ZXJFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU3RlcCA0OiBDb21wbGV0ZVxuICAgICAgb25Qcm9ncmVzcz8uKHtcbiAgICAgICAgc3RhdHVzOiAnY29tcGxldGUnLFxuICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICBwcm9ncmVzczogMTAwLFxuICAgICAgICBjdXJyZW50U3RlcDogJ0ltcG9ydCBjb21wbGV0ZSEnLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGJvb2tJZCxcbiAgICAgICAgZmlsZVBhdGg6IGNvcGllZEZpbGUubG9jYWxQYXRoLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ltcG9ydCBmYWlsZWQnO1xuXG4gICAgICBvblByb2dyZXNzPy4oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICBjdXJyZW50U3RlcDogJ0ltcG9ydCBmYWlsZWQnLFxuICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29weSBzZWxlY3RlZCBmaWxlIHRvIGFwcCdzIGJvb2sgc3RvcmFnZSBkaXJlY3RvcnlcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIGNvcHlGaWxlVG9TdG9yYWdlKFxuICAgIGZpbGU6IFNlbGVjdGVkRmlsZSxcbiAgICBib29rSWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxDb3BpZWRGaWxlSW5mbz4ge1xuICAgIGNvbnN0IGZvcm1hdCA9IHRoaXMuZGV0ZWN0Rm9ybWF0KGZpbGUubmFtZSk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBgYm9vay4ke2Zvcm1hdH1gO1xuXG4gICAgLy8gT24gd2ViIHdpdGggRmlsZSBTeXN0ZW0gQWNjZXNzIEFQSSwgc2F2ZSB0byB1c2VyJ3MgY2hvc2VuIGRpcmVjdG9yeVxuICAgIGlmIChVU0VfRklMRV9TWVNURU1fQVBJKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb3B5RmlsZVRvRmlsZVN5c3RlbShmaWxlLCBib29rSWQsIGZpbGVuYW1lLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIFJORlMgKG5hdGl2ZSBvciB3ZWIgSW5kZXhlZERCKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmNvcHlGaWxlVG9STkZTKGZpbGUsIGJvb2tJZCwgZmlsZW5hbWUsIGZvcm1hdCk7XG4gIH1cblxuICAvKipcbiAgICogQ29weSBmaWxlIHVzaW5nIEZpbGUgU3lzdGVtIEFjY2VzcyBBUEkgKHdlYilcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIGNvcHlGaWxlVG9GaWxlU3lzdGVtKFxuICAgIGZpbGU6IFNlbGVjdGVkRmlsZSxcbiAgICBib29rSWQ6IHN0cmluZyxcbiAgICBmaWxlbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogQm9va0Zvcm1hdCxcbiAgKTogUHJvbWlzZTxDb3BpZWRGaWxlSW5mbz4ge1xuICAgIC8vIEZldGNoIHRoZSBmaWxlIGNvbnRlbnQgZnJvbSBibG9iIFVSTFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmlsZS51cmkpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgc2VsZWN0ZWQgZmlsZScpO1xuICAgIH1cbiAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG5cbiAgICAvLyBTYXZlIHRvIHVzZXIncyBmaWxlIHN5c3RlbSAoZm9yIHBlcnNpc3RlbmNlKVxuICAgIGF3YWl0IEZpbGVTeXN0ZW1TZXJ2aWNlLnNhdmVCb29rKGJvb2tJZCwgZmlsZW5hbWUsIGFycmF5QnVmZmVyKTtcblxuICAgIC8vIEFsc28gc2F2ZSB0byBJbmRleGVkREIgKFJORlMpIHNvIHRoZSByZWFkZXIgY2FuIGFjY2VzcyBpdFxuICAgIGNvbnN0IGJvb2tEaXIgPSBgJHtCT09LU19CQVNFX0RJUn0vJHtib29rSWR9YDtcbiAgICBjb25zdCBkZXN0UGF0aCA9IGAke2Jvb2tEaXJ9LyR7ZmlsZW5hbWV9YDtcbiAgICBhd2FpdCBSTkZTLm1rZGlyKGJvb2tEaXIpO1xuICAgIGF3YWl0IFJORlMud3JpdGVGaWxlKGRlc3RQYXRoLCBhcnJheUJ1ZmZlcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYm9va0lkLFxuICAgICAgb3JpZ2luYWxOYW1lOiBmaWxlLm5hbWUsXG4gICAgICBsb2NhbFBhdGg6IGRlc3RQYXRoLCAvLyBVc2UgUk5GUyBwYXRoIGZvciByZWFkaW5nXG4gICAgICBmb3JtYXQsXG4gICAgICBmaWxlU2l6ZTogYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgZmlsZSB1c2luZyBSTkZTIChuYXRpdmUgb3IgSW5kZXhlZERCIGZhbGxiYWNrKVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgY29weUZpbGVUb1JORlMoXG4gICAgZmlsZTogU2VsZWN0ZWRGaWxlLFxuICAgIGJvb2tJZDogc3RyaW5nLFxuICAgIGZpbGVuYW1lOiBzdHJpbmcsXG4gICAgZm9ybWF0OiBCb29rRm9ybWF0LFxuICApOiBQcm9taXNlPENvcGllZEZpbGVJbmZvPiB7XG4gICAgY29uc3QgYm9va0RpciA9IGAke0JPT0tTX0JBU0VfRElSfS8ke2Jvb2tJZH1gO1xuICAgIGNvbnN0IGRlc3RQYXRoID0gYCR7Ym9va0Rpcn0vJHtmaWxlbmFtZX1gO1xuXG4gICAgLy8gQ3JlYXRlIGJvb2sgZGlyZWN0b3J5XG4gICAgYXdhaXQgUk5GUy5ta2Rpcihib29rRGlyKTtcblxuICAgIC8vIENvcHkgZmlsZVxuICAgIGF3YWl0IFJORlMuY29weUZpbGUoZmlsZS51cmksIGRlc3RQYXRoKTtcblxuICAgIC8vIEdldCBhY3R1YWwgZmlsZSBzaXplXG4gICAgY29uc3Qgc3RhdCA9IGF3YWl0IFJORlMuc3RhdChkZXN0UGF0aCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYm9va0lkLFxuICAgICAgb3JpZ2luYWxOYW1lOiBmaWxlLm5hbWUsXG4gICAgICBsb2NhbFBhdGg6IGRlc3RQYXRoLFxuICAgICAgZm9ybWF0LFxuICAgICAgZmlsZVNpemU6IHBhcnNlSW50KFN0cmluZyhzdGF0LnNpemUpLCAxMCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBib29rIG1ldGFkYXRhIGJhc2VkIG9uIGZvcm1hdFxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgcGFyc2VCb29rTWV0YWRhdGEoXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcbiAgICBmb3JtYXQ6IEJvb2tGb3JtYXQsXG4gICk6IFByb21pc2U8UGFydGlhbDxJbXBvcnRlZEJvb2tNZXRhZGF0YT4+IHtcbiAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgY2FzZSAnZXB1Yic6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlRVBVQk1ldGFkYXRhKGZpbGVQYXRoKTtcbiAgICAgIGNhc2UgJ3R4dCc6XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlVFhUTWV0YWRhdGEoZmlsZVBhdGgpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBFUFVCIG1ldGFkYXRhIHVzaW5nIE1ldGFkYXRhRXh0cmFjdG9yXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBhc3luYyBwYXJzZUVQVUJNZXRhZGF0YShcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICApOiBQcm9taXNlPFBhcnRpYWw8SW1wb3J0ZWRCb29rTWV0YWRhdGE+PiB7XG4gICAgY29uc3QgZXh0cmFjdG9yID0gbmV3IE1ldGFkYXRhRXh0cmFjdG9yKCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZXh0cmFjdGVkID0gYXdhaXQgZXh0cmFjdG9yLmV4dHJhY3RGcm9tRmlsZShmaWxlUGF0aCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBleHRyYWN0ZWQubWV0YWRhdGEudGl0bGUsXG4gICAgICAgIGF1dGhvcjogZXh0cmFjdGVkLm1ldGFkYXRhLmF1dGhvcixcbiAgICAgICAgZGVzY3JpcHRpb246IGV4dHJhY3RlZC5tZXRhZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgcHVibGlzaGVyOiBleHRyYWN0ZWQubWV0YWRhdGEucHVibGlzaGVyLFxuICAgICAgICBwdWJsaXNoRGF0ZTogZXh0cmFjdGVkLm1ldGFkYXRhLnB1Ymxpc2hEYXRlLFxuICAgICAgICBpc2JuOiBleHRyYWN0ZWQubWV0YWRhdGEuaXNibixcbiAgICAgICAgbGFuZ3VhZ2U6IGV4dHJhY3RlZC5sYW5ndWFnZSxcbiAgICAgICAgdG90YWxDaGFwdGVyczogZXh0cmFjdGVkLmNoYXB0ZXJDb3VudCxcbiAgICAgICAgc3ViamVjdHM6IGV4dHJhY3RlZC5tZXRhZGF0YS5zdWJqZWN0cyxcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGV4dHJhY3Rvci5kaXNwb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIFRYVCBtZXRhZGF0YSAobGltaXRlZCAtIGp1c3QgZmlsZSBpbmZvKVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgcGFyc2VUWFRNZXRhZGF0YShcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICApOiBQcm9taXNlPFBhcnRpYWw8SW1wb3J0ZWRCb29rTWV0YWRhdGE+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXQgPSBhd2FpdCBSTkZTLnN0YXQoZmlsZVBhdGgpO1xuICAgICAgLy8gUmVhZCBmaXJzdCBmZXcgbGluZXMgdG8gdHJ5IHRvIGV4dHJhY3QgdGl0bGVcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBSTkZTLnJlYWQoZmlsZVBhdGgsIDUwMCwgMCwgJ3V0ZjgnKTtcbiAgICAgIGNvbnN0IGZpcnN0TGluZSA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpWzBdPy50cmltKCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBmaXJzdExpbmU/Lmxlbmd0aCA+IDAgJiYgZmlyc3RMaW5lLmxlbmd0aCA8IDEwMFxuICAgICAgICAgID8gZmlyc3RMaW5lXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIGVzdGltYXRlZFBhZ2VzOiBNYXRoLmNlaWwocGFyc2VJbnQoU3RyaW5nKHN0YXQuc2l6ZSksIDEwKSAvIDIwMDApLCAvLyBSb3VnaCBlc3RpbWF0ZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdCBjb3ZlciBpbWFnZSBmcm9tIEVQVUJcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIGV4dHJhY3RDb3ZlckltYWdlKFxuICAgIGJvb2tJZDogc3RyaW5nLFxuICAgIGZpbGVQYXRoOiBzdHJpbmcsXG4gICk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIGNvbnN0IGV4dHJhY3RvciA9IG5ldyBNZXRhZGF0YUV4dHJhY3RvcigpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGV4dHJhY3Rvci5leHRyYWN0RnJvbUZpbGUoZmlsZVBhdGgpO1xuICAgICAgY29uc3QgYm9va0RpciA9IGAke0JPT0tTX0JBU0VfRElSfS8ke2Jvb2tJZH1gO1xuICAgICAgcmV0dXJuIGF3YWl0IGV4dHJhY3Rvci5leHRyYWN0Q292ZXIoYm9va0Rpcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGV4dHJhY3QgY292ZXIgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGV4dHJhY3Rvci5kaXNwb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGJvb2sgYW5kIGl0cyBhc3NvY2lhdGVkIGZpbGVzXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZGVsZXRlQm9vayhib29rSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgRmlsZSBTeXN0ZW0gQWNjZXNzIEFQSSBmaXJzdCAod2ViKVxuICAgICAgaWYgKFVTRV9GSUxFX1NZU1RFTV9BUEkpIHtcbiAgICAgICAgY29uc3QgZGVsZXRlZCA9IGF3YWl0IEZpbGVTeXN0ZW1TZXJ2aWNlLmRlbGV0ZUJvb2soYm9va0lkKTtcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBGYWxsYmFjayB0byBSTkZTXG4gICAgICBjb25zdCBib29rRGlyID0gYCR7Qk9PS1NfQkFTRV9ESVJ9LyR7Ym9va0lkfWA7XG4gICAgICBjb25zdCBleGlzdHMgPSBhd2FpdCBSTkZTLmV4aXN0cyhib29rRGlyKTtcblxuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBhd2FpdCBSTkZTLnVubGluayhib29rRGlyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgYm9vazonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmFnZSBwYXRoIGZvciBhIGJvb2tcbiAgICovXG4gIHN0YXRpYyBnZXRCb29rUGF0aChib29rSWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke0JPT0tTX0JBU0VfRElSfS8ke2Jvb2tJZH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0b3RhbCBzdG9yYWdlIHVzZWQgYnkgYm9va3NcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRTdG9yYWdlVXNlZCgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBleGlzdHMgPSBhd2FpdCBSTkZTLmV4aXN0cyhCT09LU19CQVNFX0RJUik7XG4gICAgICBpZiAoIWV4aXN0cykgcmV0dXJuIDA7XG5cbiAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgUk5GUy5yZWFkRGlyKEJPT0tTX0JBU0VfRElSKTtcbiAgICAgIGxldCB0b3RhbFNpemUgPSAwO1xuXG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgaWYgKGl0ZW0uaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgIGNvbnN0IGJvb2tGaWxlcyA9IGF3YWl0IFJORlMucmVhZERpcihpdGVtLnBhdGgpO1xuICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBib29rRmlsZXMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlLmlzRmlsZSgpKSB7XG4gICAgICAgICAgICAgIHRvdGFsU2l6ZSArPSBwYXJzZUludChTdHJpbmcoZmlsZS5zaXplKSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG90YWxTaXplO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2FsY3VsYXRlIHN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBVdGlsaXR5IE1ldGhvZHNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgZmlsZSBleHRlbnNpb24gZnJvbSBmaWxlbmFtZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0RmlsZUV4dGVuc2lvbihmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBtYXRjaCA9IGZpbGVuYW1lLm1hdGNoKC9cXC4oW14uXSspJC8pO1xuICAgIHJldHVybiBtYXRjaCA/IGAuJHttYXRjaFsxXS50b0xvd2VyQ2FzZSgpfWAgOiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBmaWxlIGZvcm1hdCBpcyBzdXBwb3J0ZWRcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGlzU3VwcG9ydGVkRm9ybWF0KGV4dGVuc2lvbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFNVUFBPUlRFRF9FWFRFTlNJT05TLmluY2x1ZGVzKGV4dGVuc2lvbiBhcyBhbnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBib29rIGZvcm1hdCBmcm9tIGZpbGVuYW1lXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBkZXRlY3RGb3JtYXQoZmlsZW5hbWU6IHN0cmluZyk6IEJvb2tGb3JtYXQge1xuICAgIGNvbnN0IGV4dCA9IHRoaXMuZ2V0RmlsZUV4dGVuc2lvbihmaWxlbmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgICBzd2l0Y2ggKGV4dCkge1xuICAgICAgY2FzZSAnLmVwdWInOlxuICAgICAgICByZXR1cm4gJ2VwdWInO1xuICAgICAgY2FzZSAnLm1vYmknOlxuICAgICAgY2FzZSAnLmF6dyc6XG4gICAgICBjYXNlICcuYXp3Myc6XG4gICAgICAgIHJldHVybiAnbW9iaSc7XG4gICAgICBjYXNlICcuZmIyJzpcbiAgICAgICAgcmV0dXJuICdmYjInO1xuICAgICAgY2FzZSAnLnR4dCc6XG4gICAgICAgIHJldHVybiAndHh0JztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnZXB1Yic7IC8vIERlZmF1bHQgZmFsbGJhY2tcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdCBhIGNsZWFuIHRpdGxlIGZyb20gZmlsZW5hbWVcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGV4dHJhY3RUaXRsZUZyb21GaWxlbmFtZShmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBSZW1vdmUgZXh0ZW5zaW9uXG4gICAgbGV0IHRpdGxlID0gZmlsZW5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpO1xuXG4gICAgLy8gUmVwbGFjZSBjb21tb24gc2VwYXJhdG9ycyB3aXRoIHNwYWNlc1xuICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSgvWy1fXS9nLCAnICcpO1xuXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcvdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgIHRpdGxlID0gdGl0bGUudHJpbSgpO1xuXG4gICAgLy8gQ2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIgb2YgZWFjaCB3b3JkXG4gICAgdGl0bGUgPSB0aXRsZS5yZXBsYWNlKC9cXGJcXHcvZywgY2hhciA9PiBjaGFyLnRvVXBwZXJDYXNlKCkpO1xuXG4gICAgcmV0dXJuIHRpdGxlIHx8ICdVbnRpdGxlZCBCb29rJztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgZmlsZSBzaXplIGZvciBkaXNwbGF5XG4gICAqL1xuICBzdGF0aWMgZm9ybWF0RmlsZVNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKGJ5dGVzID09PSAwKSByZXR1cm4gJzAgQic7XG4gICAgY29uc3QgayA9IDEwMjQ7XG4gICAgY29uc3Qgc2l6ZXMgPSBbJ0InLCAnS0InLCAnTUInLCAnR0InXTtcbiAgICBjb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSk7XG4gICAgcmV0dXJuIGAke3BhcnNlRmxvYXQoKGJ5dGVzIC8gTWF0aC5wb3coaywgaSkpLnRvRml4ZWQoMSkpfSAke3NpemVzW2ldfWA7XG4gIH1cbn1cbiIsIi8qKlxuICogSW1wb3J0IFNlcnZpY2UgLSBGaWxlIGltcG9ydCBhbmQgbWFuYWdlbWVudFxuICovXG5cbmV4cG9ydCB7SW1wb3J0U2VydmljZX0gZnJvbSAnLi9JbXBvcnRTZXJ2aWNlJztcbmV4cG9ydCB0eXBlIHtcbiAgSW1wb3J0UHJvZ3Jlc3MsXG4gIEltcG9ydFJlc3VsdCxcbiAgSW1wb3J0T3B0aW9ucyxcbiAgU2VsZWN0ZWRGaWxlLFxuICBDb3BpZWRGaWxlSW5mbyxcbiAgSW1wb3J0ZWRCb29rTWV0YWRhdGEsXG4gIEltcG9ydFN0YXR1cyxcbn0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQge1NVUFBPUlRFRF9NSU1FX1RZUEVTLCBTVVBQT1JURURfRVhURU5TSU9OU30gZnJvbSAnLi90eXBlcyc7XG4iXSwibmFtZXMiOlsidHlwZXMiLCJhbGxGaWxlcyIsImltYWdlcyIsInBsYWluVGV4dCIsImF1ZGlvIiwidmlkZW8iLCJwZGYiLCJlcHViIiwicGljayIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZTMiLCJvcHRpb25zIiwid3JhcCIsIl9jb250ZXh0MyIsInByZXYiLCJuZXh0IiwiYWJydXB0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJfb3B0aW9ucyRhbGxvd011bHRpU2UiLCJpbnB1dCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJtdWx0aXBsZSIsImFsbG93TXVsdGlTZWxlY3Rpb24iLCJ0eXBlTGlzdCIsIkFycmF5IiwiaXNBcnJheSIsImFjY2VwdFZhbHVlcyIsIm1hcCIsInQiLCJhY2NlcHQiLCJqb2luIiwib25jaGFuZ2UiLCJfcmVmMiIsIl9jYWxsZWUyIiwiZSIsImZpbGVzIiwicmVzdWx0cyIsIl90IiwiX2NvbnRleHQyIiwidGFyZ2V0IiwibGVuZ3RoIiwiRXJyb3IiLCJhbGwiLCJmcm9tIiwiX3JlZjMiLCJfY2FsbGVlIiwiZmlsZSIsImJsb2JVcmwiLCJfY29udGV4dCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInVyaSIsImZpbGVDb3B5VXJpIiwibmFtZSIsInNpemUiLCJzdG9wIiwiX3gzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzZW50IiwiX3gyIiwib25jYW5jZWwiLCJoYW5kbGVGb2N1cyIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJjbGljayIsIl94IiwicGlja1NpbmdsZSIsIl9yZWY0IiwiX2NhbGxlZTQiLCJfY29udGV4dDQiLCJfb2JqZWN0U3ByZWFkIiwiX3g0IiwiaXNDYW5jZWwiLCJlcnIiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJTVVBQT1JURURfTUlNRV9UWVBFUyIsIlNVUFBPUlRFRF9FWFRFTlNJT05TIiwiUGxhdGZvcm0iLCJEb2N1bWVudFBpY2tlciIsIlJORlMiLCJ2NCIsInV1aWR2NCIsIk1ldGFkYXRhRXh0cmFjdG9yIiwiRmlsZVN5c3RlbVNlcnZpY2UiLCJCT09LU19CQVNFX0RJUiIsImNvbmNhdCIsIkRvY3VtZW50RGlyZWN0b3J5UGF0aCIsIlVTRV9GSUxFX1NZU1RFTV9BUEkiLCJPUyIsImlzU3VwcG9ydGVkIiwiUElDS0VSX1RZUEVTIiwiSW1wb3J0U2VydmljZSIsIl9jbGFzc0NhbGxDaGVjayIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiX2luaXRpYWxpemUiLCJleGlzdHMiLCJpc0luaXRpYWxpemVkIiwiaW5pdGlhbGl6ZSIsIm1rZGlyIiwiY29uc29sZSIsImVycm9yIiwiX2hhc0ZpbGVTeXN0ZW1BY2Nlc3MiLCJoYXNEaXJlY3RvcnlBY2Nlc3MiLCJoYXNGaWxlU3lzdGVtQWNjZXNzIiwiX3JlcXVlc3RGaWxlU3lzdGVtQWNjZXNzIiwicmVxdWVzdERpcmVjdG9yeUFjY2VzcyIsInJlcXVlc3RGaWxlU3lzdGVtQWNjZXNzIiwiZ2V0U3RvcmFnZURpcmVjdG9yeU5hbWUiLCJnZXREaXJlY3RvcnlOYW1lIiwiX3NlbGVjdEZpbGUiLCJyZXN1bHQiLCJleHRlbnNpb24iLCJfdDIiLCJjb3B5VG8iLCJnZXRGaWxlRXh0ZW5zaW9uIiwiaXNTdXBwb3J0ZWRGb3JtYXQiLCJzZWxlY3RGaWxlIiwiX2ltcG9ydEJvb2siLCJfY2FsbGVlNSIsIm9uUHJvZ3Jlc3MiLCJfb3B0aW9ucyRleHRyYWN0Q292ZXIiLCJleHRyYWN0Q292ZXIiLCJfb3B0aW9ucyRwYXJzZU1ldGFkYXQiLCJwYXJzZU1ldGFkYXRhIiwiYm9va0lkIiwiY29waWVkRmlsZSIsIm1ldGFkYXRhIiwicGFyc2VkTWV0YWRhdGEiLCJjb3ZlclBhdGgiLCJlcnJvck1lc3NhZ2UiLCJfYXJnczUiLCJfdDMiLCJfdDQiLCJfdDUiLCJfY29udGV4dDUiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJmaWxlTmFtZSIsInByb2dyZXNzIiwiY3VycmVudFN0ZXAiLCJjb3B5RmlsZVRvU3RvcmFnZSIsInRpdGxlIiwiZXh0cmFjdFRpdGxlRnJvbUZpbGVuYW1lIiwiYXV0aG9yIiwiZm9ybWF0IiwiZmlsZVNpemUiLCJwYXJzZUJvb2tNZXRhZGF0YSIsImxvY2FsUGF0aCIsIndhcm4iLCJleHRyYWN0Q292ZXJJbWFnZSIsInN1Y2Nlc3MiLCJmaWxlUGF0aCIsImltcG9ydEJvb2siLCJfY29weUZpbGVUb1N0b3JhZ2UiLCJfY2FsbGVlNiIsImZpbGVuYW1lIiwiX2NvbnRleHQ2IiwiZGV0ZWN0Rm9ybWF0IiwiY29weUZpbGVUb0ZpbGVTeXN0ZW0iLCJjb3B5RmlsZVRvUk5GUyIsIl9jb3B5RmlsZVRvRmlsZVN5c3RlbSIsIl9jYWxsZWU3IiwicmVzcG9uc2UiLCJhcnJheUJ1ZmZlciIsImJvb2tEaXIiLCJkZXN0UGF0aCIsIl9jb250ZXh0NyIsImZldGNoIiwib2siLCJzYXZlQm9vayIsIndyaXRlRmlsZSIsIm9yaWdpbmFsTmFtZSIsImJ5dGVMZW5ndGgiLCJfeDUiLCJfeDYiLCJfeDciLCJfY29weUZpbGVUb1JORlMiLCJfY2FsbGVlOCIsInN0YXQiLCJfY29udGV4dDgiLCJjb3B5RmlsZSIsInBhcnNlSW50IiwiU3RyaW5nIiwiX3g4IiwiX3g5IiwiX3gwIiwiX3gxIiwiX3BhcnNlQm9va01ldGFkYXRhIiwiX2NhbGxlZTkiLCJfdDYiLCJfY29udGV4dDkiLCJwYXJzZUVQVUJNZXRhZGF0YSIsInBhcnNlVFhUTWV0YWRhdGEiLCJfeDEwIiwiX3gxMSIsIl9wYXJzZUVQVUJNZXRhZGF0YSIsIl9jYWxsZWUwIiwiZXh0cmFjdG9yIiwiZXh0cmFjdGVkIiwiX2NvbnRleHQwIiwiZXh0cmFjdEZyb21GaWxlIiwiZGVzY3JpcHRpb24iLCJwdWJsaXNoZXIiLCJwdWJsaXNoRGF0ZSIsImlzYm4iLCJsYW5ndWFnZSIsInRvdGFsQ2hhcHRlcnMiLCJjaGFwdGVyQ291bnQiLCJzdWJqZWN0cyIsImRpc3Bvc2UiLCJmaW5pc2giLCJfeDEyIiwiX3BhcnNlVFhUTWV0YWRhdGEiLCJfY2FsbGVlMSIsIl9jb250ZW50JHNwbGl0JCIsImNvbnRlbnQiLCJmaXJzdExpbmUiLCJfdDciLCJfY29udGV4dDEiLCJyZWFkIiwic3BsaXQiLCJ0cmltIiwiZXN0aW1hdGVkUGFnZXMiLCJNYXRoIiwiY2VpbCIsIl94MTMiLCJfZXh0cmFjdENvdmVySW1hZ2UiLCJfY2FsbGVlMTAiLCJfdDgiLCJfY29udGV4dDEwIiwiX3gxNCIsIl94MTUiLCJfZGVsZXRlQm9vayIsIl9jYWxsZWUxMSIsImRlbGV0ZWQiLCJfdDkiLCJfY29udGV4dDExIiwiZGVsZXRlQm9vayIsInVubGluayIsIl94MTYiLCJnZXRCb29rUGF0aCIsIl9nZXRTdG9yYWdlVXNlZCIsIl9jYWxsZWUxMiIsIml0ZW1zIiwidG90YWxTaXplIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJpdGVtIiwiYm9va0ZpbGVzIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsIl90MCIsIl90MSIsIl9jb250ZXh0MTIiLCJyZWFkRGlyIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJzIiwibiIsImRvbmUiLCJpc0RpcmVjdG9yeSIsInBhdGgiLCJpc0ZpbGUiLCJmIiwiZ2V0U3RvcmFnZVVzZWQiLCJtYXRjaCIsInRvTG93ZXJDYXNlIiwiZXh0IiwicmVwbGFjZSIsImNoYXIiLCJ0b1VwcGVyQ2FzZSIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJrIiwic2l6ZXMiLCJpIiwiZmxvb3IiLCJsb2ciLCJwYXJzZUZsb2F0IiwicG93IiwidG9GaXhlZCIsIl9kZWZpbmVQcm9wZXJ0eSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2788\n\n}')}}]);